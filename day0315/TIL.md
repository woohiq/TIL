저번 시간 정리 )

DDL → (데이터 정의) Create, Alter, Drop, Rename

DML → (데이터 조작) Insert into, Select, Update, Delete from

## JOIN

둘 이상의 테이블에서 데이터를 조회하기 위해서 사용

조인조건 : primary key 와 foreign key로 구성 (없어도 논리적 연관으로 되기도 함)

(내 Record 키를 유일하게 식별할 수 있는 key) (다른 테이블에서 참조하는 key)



### INNER JOIN

조인 조건에 해당하는 칼럼값이 양 쪽 테이블에 모두 존재



### OUTER JOIN

조인 조건에 해당하는 칼럼값이 한 쪽 테이블에만 존재

순서에 따라 연산량과 작업량이 달라짐

```sql
SELECT 
FROM (table1)
INNER JOIN (table2)
WHERE (table1.XX = table2.YY);

SELECT 
FROM (table1)
INNER JOIN (table2)
ON (조건을 위한 줄);

만약 조건이 (table1의 어떤 속성 = table2의 어떤 속성) 이라면
USING (속성) 도 가능
```



### LEFT OUTER JOIN

왼 쪽 테이블을 기준으로 JOIN하여 일치하지 않는 데이터까지 JOIN

RIGHT 는 vice versa



### 셀프 조인

똑같은 테이블로 조인



### 비 동등 조인 Non-Equi JOIN

조인조건이 정확히 일치하는것이 아닐 떄 사용

between 같은 조건일 때



### SubQuery

서브쿼리는 하나의 SQL 문 안에 포함되어 있는 SQL문을 의미한다.

서브쿼리는 반드시 ()로 감싸서 이용

단일행 비교 연산 : record 하나만 비교

다중행 비교 연산 : record 여러개 비교

서브쿼리 결과가 다중행을 반환하면

IN ANY ALL 연산자와 함께 사용

ANY : <ANY하면 하나라도 작은값이 있다면, >ANY라면 하나라도 큰 값이 있다면

IN : 하나라도 일치하면



### 다중열

두 개 이상의 컬럼 반환



### 상호 연관 서브 쿼리

서브쿼리에서 메인 쿼리의 컬럼명 사용



### 인라인 뷰

FROM절에 사용되는 서브쿼리

동적으로 생성된 테이블

TOP-N은 스킵



### 스칼라 서브 쿼리

하나의 행에서 하나의 칼럼만 반환



## 데이터베이스 모델링

업무프로세서 →(개념모델링) → 개념구조 →(논리모델링) → 데이터모델 → (물질적모델링) → 물리적 db

사용자와 관계가 있는 주요 객체를 찾고 속성을 찾는다

식별자 구분할 수 있는 속성 
후보키 구분할 수 있는 속성 
기본키 그 중 쓰는것 
대체키 그 중 안쓰는것 
복합키 하나론 안돼서 둘 이상 묶어서 
대리키 식별자가 길거나 여러 속성이면



ERD 관계



### 논리적 데이터베이스

기본키

참조키



### 제 1, 2, 3 정규화

1정규화 : 열을 atomic 하게

2정규화 : A+B, A+C인 경우 A+B 와 A+C로 부분함수

3정규화: A+B, B+C인 경우 A+B와 B+C로 이행적함수



### 물리적 데이터베이스

효율적인 데이터베이스가 될 수 있도록 효과적인 인덱스 정의 + 상황에 따라 역정규화
